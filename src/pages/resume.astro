---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import { getCollection } from "astro:content";
import "../styles/markdown.css";

// Load resume content from collection
const resumeEntries = await getCollection("resume");
const resume = resumeEntries[0]; // Single resume file
const { Content } = await resume.render();
---

<BaseLayout
  title="Resume - Arafat Hasan"
  description="Professional resume of Arafat Hasan"
>
  <Navbar slot="navbar" />

  <div class="max-w-5xl mx-auto">
    <div
      class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 sm:mb-8"
    >
      <h1 class="text-3xl sm:text-4xl font-bold">Resume</h1>
      <div class="flex flex-col sm:flex-row gap-3">
        <a
          href="/resume.pdf"
          target="_blank"
          rel="noopener noreferrer"
          class="px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium text-center touch-manipulation"
        >
          Show as PDF
        </a>
      </div>
    </div>

    <div class="prose prose-slate max-w-none">
      <div class="markdown-content">
        <Content />
      </div>
    </div>

    <div class="mt-12 p-6 bg-gray-50 rounded-lg text-center">
      <p class="text-gray-700 mb-4">View the complete resume above.</p>
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a
          href="/resume.pdf"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors"
        >
          Show as PDF
        </a>
      </div>
    </div>
  </div>

  <Footer slot="footer" />
</BaseLayout>
